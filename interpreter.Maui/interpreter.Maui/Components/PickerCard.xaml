<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="interpreter.Maui.Components.PickerCard"
             x:Name="ThisControl">
    
    <!-- surfaces & text pulled from page theme when embedded -->
    
    <Border Background="{Binding CardBackgroundColor, Source={x:Reference ThisControl}, FallbackValue=#111827}"
            StrokeThickness="1"
            Stroke="{Binding CardStroke, Source={x:Reference ThisControl}, FallbackValue=#1F2937}">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="18"/>
        </Border.StrokeShape>
        <Border.Shadow>
            <Shadow Brush="#33000000" Offset="0,6" Radius="14" Opacity="0.3"/>
        </Border.Shadow>
        <Border.Padding>
            <OnIdiom x:TypeArguments="Thickness"
                     Phone="16,12"
                     Tablet="20,16"
                     Desktop="20,16"/>
        </Border.Padding>

        <VerticalStackLayout Spacing="8">
            <Label Text="{Binding Title, Source={x:Reference ThisControl}}"
                   TextColor="{Binding TitleColor, Source={x:Reference ThisControl}, FallbackValue=#22C7B8}"
                   FontAttributes="Bold">
                <Label.FontSize>
                    <OnIdiom x:TypeArguments="x:Double"
                             Phone="13"
                             Tablet="14"
                             Desktop="14"/>
                </Label.FontSize>
            </Label>
            <Picker x:Name="InnerPicker"
                    TextColor="#E5E7EB"
                    TitleColor="#6B7280"
                    BackgroundColor="Transparent"
                    Title="{Binding PickerTitle, Source={x:Reference ThisControl}}"
                    ItemsSource="{Binding ItemsSource, Source={x:Reference ThisControl}}"
                    SelectedIndex="{Binding SelectedIndex, Source={x:Reference ThisControl}, Mode=TwoWay}"
                    SelectedIndexChanged="OnSelectedIndexChanged">
                <Picker.FontSize>
                    <OnIdiom x:TypeArguments="x:Double"
                             Phone="14"
                             Tablet="16"
                             Desktop="16"/>
                </Picker.FontSize>
            </Picker>
        </VerticalStackLayout>
    </Border>
</ContentView>
