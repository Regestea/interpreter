<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="interpreter.Maui.Components.VoiceProfileList">
    
    <ContentView.Resources>
        <Color x:Key="ColorSurface">#0B1220</Color>
        <Color x:Key="ColorSurfaceHigh">#111827</Color>
        <Color x:Key="ColorTextPrimary">#F9FAFB</Color>
        <Color x:Key="ColorTextSecondary">#9CA3AF</Color>
        <Color x:Key="ColorAccentPrimary">#22C7B8</Color>
        <Color x:Key="ColorAccentSecondary">#818CF8</Color>
        <Color x:Key="ColorDanger">#F97373</Color>
        <SolidColorBrush x:Key="BrushSurface" Color="{StaticResource ColorSurface}" />
        <SolidColorBrush x:Key="BrushSurfaceHigh" Color="{StaticResource ColorSurfaceHigh}" />
        <SolidColorBrush x:Key="BrushTextPrimary" Color="{StaticResource ColorTextPrimary}" />
        <SolidColorBrush x:Key="BrushTextSecondary" Color="{StaticResource ColorTextSecondary}" />
        <SolidColorBrush x:Key="BrushAccentPrimary" Color="{StaticResource ColorAccentPrimary}" />
        <SolidColorBrush x:Key="BrushAccentSecondary" Color="{StaticResource ColorAccentSecondary}" />
        <SolidColorBrush x:Key="BrushDanger" Color="{StaticResource ColorDanger}" />
    </ContentView.Resources>
    
    <Border Background="{StaticResource BrushSurfaceHigh}"
            StrokeThickness="1"
            Stroke="{StaticResource BrushAccentSecondary}"
            Padding="20">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="16"/>
        </Border.StrokeShape>
        <Border.Shadow>
            <Shadow Brush="#33000000" Offset="0,6" Radius="14" Opacity="0.3" />
        </Border.Shadow>
        
        <VerticalStackLayout Spacing="16">
            <Grid ColumnDefinitions="*,Auto">
                <Label Grid.Column="0"
                       Text="Saved Voice Profiles"
                       TextColor="{StaticResource ColorAccentPrimary}"
                       FontSize="16"
                       FontAttributes="Bold"/>
                
                <Border Grid.Column="1"
                        Background="{StaticResource BrushSurface}"
                        StrokeThickness="1"
                        Stroke="{StaticResource BrushAccentSecondary}"
                        Padding="8,4">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="8"/>
                    </Border.StrokeShape>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnRefreshClicked"/>
                    </Border.GestureRecognizers>
                    <Label Text="🔄 Refresh"
                           TextColor="{StaticResource ColorTextPrimary}"
                           FontSize="12"/>
                </Border>
            </Grid>
            
            <!-- Voice Profiles List -->
            <CollectionView x:Name="ProfilesCollection"
                            EmptyView="No voice profiles saved yet">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Background="{StaticResource BrushSurface}"
                                StrokeThickness="1"
                                Stroke="{StaticResource BrushAccentSecondary}"
                                Padding="16,12"
                                Margin="0,4">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>
                            <Grid ColumnDefinitions="Auto,*,Auto">
                                <Label Grid.Column="0"
                                       Text="🎤"
                                       FontSize="20"
                                       VerticalOptions="Center"
                                       Margin="0,0,12,0"/>
                                
                                <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                    <Label Text="{Binding Name}"
                                           TextColor="{StaticResource ColorTextPrimary}"
                                           FontSize="14"
                                           FontAttributes="Bold"/>
                                    <Label Text="{Binding Id, StringFormat='ID: {0}'}"
                                           TextColor="{StaticResource ColorTextSecondary}"
                                           FontSize="11"/>
                                </VerticalStackLayout>
                                
                                <Border Grid.Column="2"
                                        Background="{StaticResource BrushDanger}"
                                        StrokeThickness="0"
                                        Padding="8,4"
                                        VerticalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="8"/>
                                    </Border.StrokeShape>
                                    <Border.GestureRecognizers>
                                        <TapGestureRecognizer 
                                            Tapped="OnDeleteClicked"
                                            CommandParameter="{Binding Id}"/>
                                    </Border.GestureRecognizers>
                                    <Label Text="🗑️"
                                           FontSize="14"
                                           HorizontalOptions="Center"/>
                                </Border>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </Border>
    
</ContentView>
